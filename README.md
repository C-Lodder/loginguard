# Akeeba LoginGuard

A real Two Step Verification system for Joomla!

## What does it do?

This solution adds a _Two Step Verification_ for Joomla! login. After logging in with just your name and password you are asked to provide your second step verification, e.g. a code generated by Google Authenticator. Until you provide a correct second step verification you will not be able to access any pages on the site. You will always be redirected to the "_captive login_" page. This is very much like what Google does when you try to login to GMail.

This is not the same as two factor authentication which is already implemented in Joomla. Two Factor Authentication requires the second authentication factor (e.g, the code generated by Google Authenticator) to be entered together with the username and password.

The advantages of Two Step Verification over two factor authentication are:
* **Less confusing for the user**. There is no longer a need for the "Secret Key" field which confuses users.
* **Improved discoverability**. Upon logging in you are asked to enable Two Step Verification on your account (this behavior is configurable).
* **Alternative authentication methods in a single account**. You can have several authentication methods on your account. For example you may set up a Google Authenticator app and a YubiKey.
* **Supports methods which do not require entering a code**. For example U2F dongles, biometric verification etc. These need to interact with the browser and/or the operating system through native HTML5 APIs.
* **Supports methods which require user interaction**. For example sending a code via push message, SMS or email. These methods require knowing which user is being authenticated before pushing the authentication code to the user.

## Releases

The official releases for this plugin are hosted on our GitHub repository's [Releases page](https://github.com/akeeba/loginguard/releases). 

## Found a bug?

Please check out the [existing issues](https://github.com/akeeba/loginguard/issues). If nobody else has already reported it feel free to [file an issue](https://github.com/akeeba/loginguard/issues/new). Do provide as much information as possible. At the very least we need the Joomla, PHP and MySQL version. Also include the steps to reproduce the issue, the expected result and the actual result.

Make sure your issue can be reproduced on a new installation of Joomla! without any modified configuration settings or third party extensions. If the issue only occurs with a specific third party extension or configuration setting please specify exactly what triggers it. Always keep in mind that if it can't be reproduced it can't be fixed!

## Have a suggestion?

If you have a suggestion for a feature which would benefit everyone file an issue and make your case about the feature you have in mind. Better yet, send in a PR with its implementation.

If you have a suggestion about something which would benefit only you / your organization / a very limited number of people please get in touch with us through our site's Contact Us page. If it's an interesting project we may consider it. We have very limited time so we apologize in advance if we have to turn down your project.

## Building the packages

In order to build the installation packages of this component you will need to have the following tools:

* A command line environment. Using Bash under Linux / Mac OS X works best. On Windows you will need to run most tools through an elevated privileges (administrator) command prompt on an NTFS filesystem due to the use of symlinks. Press WIN-X and click on "Command Prompt (Admin)" to launch an elevated command prompt.
* A PHP CLI binary in your path
* Command line Git executables
* PEAR and Phing installed, with the Net_FTP and VersionControl_SVN PEAR packages installed
* (Optional) libxml and libsxlt command-line tools, only if you intend on building the documentation PDF files

You will also need the following path structure inside a folder on your system

* **loginguard** This repository
* **buildfiles** [Akeeba Build Tools](https://github.com/akeeba/buildfiles)

You will need to use the exact folder names specified here.

### Initialising the repository

All of the following commands are to be run from the MAIN directory. Lines
starting with $ indicate a Mac OS X / Linux / other *NIX system commands. Lines
starting with > indicate Windows commands. The starting character ($ or >) MUST
NOT be typed!

1. You will first need to do the initial link with Akeeba Build Tools, running
   the following command (Mac OS X, Linux, other *NIX systems):

		$ php ../buildfiles/tools/link.php `pwd`

   or, on Windows:

		> php ../buildfiles/tools/link.php %CD%

1. After the initial linking takes place, go inside the build directory:

		$ cd build

   and run the link phing task:

		$ phing link

### Useful Phing tasks

All of the following commands are to be run from the MAIN/build directory.
Lines starting with $ indicate a Mac OS X / Linux / other *NIX system commands.
Lines starting with > indicate Windows commands. The starting character ($ or >)
MUST NOT be typed!

You are advised to NOT distribute the library installation packages you have built yourselves with your components. It
is best to only use the official library packages released by Akeeba Ltd.

1. Relinking internal files

   This is only required when the buildfiles change.

		$ phing link
		> phing link

1. Creating a dev release installation package

   This creates the installable ZIP packages of the component inside the
   MAIN/release directory.

		$ phing git
		> phing git
		
1. Build the documentation in PDF format

   This creates the documentation in PDF format

		$ phing doc-j-pdf
		> phing doc-j-pdf


Please note that all generated files (ZIP library packages, PDF files, HTML files) are written to the
`release` directory inside the repository's root.
